{{ define "submit-on-c-enter" }}
<script>
  const textareasInForms = [...document.querySelectorAll("form textarea")];

  textareasInForms.forEach((textarea) => {
    document.addEventListener("keydown", (e) => {
      // Ctrl or Meta + Enter, to handle Mac, Linux, and Windows
      if (e.keyCode == 13 && (e.metaKey || e.ctrlKey)) {
        e.target.closest("form").submit();
      }
    });
  });
</script>
{{ end }}
